webpackJsonp([16],{1956:function(n,l,t){"use strict";function e(n){return h._57(0,[(n()(),h._31(0,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.showChatUsers()&&e}return e},q.b,q.a)),h._30(1,1097728,[[2,4]],0,G.a,[[8,""],J.a,h.t,h.V],null,null),(n()(),h._55(-1,0,["\n                "])),(n()(),h._31(3,0,null,0,1,"ion-icon",[["name","people"],["role","img"]],[[2,"hide",null]],null,null,null,null)),h._30(4,147456,null,0,Y.a,[J.a,h.t,h.V],{name:[0,"name"]},null),(n()(),h._55(-1,0,["\n            "]))],function(n,l){n(l,4,0,"people")},function(n,l){n(l,3,0,h._44(l,4)._hidden)})}function u(n){return h._57(0,[(n()(),h._31(0,0,null,null,9,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._31(2,0,null,null,6,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[J.a,h.t,h.V],{color:[0,"color"]},null),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(5,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),h._55(6,null,["",""])),h._49(7,2),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._55(-1,null,["\n                "]))],function(n,l){n(l,3,0,"light")},function(n,l){n(l,6,0,h._56(l,6,0,n(l,7,0,h._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimedayshort")))})}function o(n){return h._57(0,[(n()(),h._31(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._31(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[J.a,h.t,h.V],{color:[0,"color"]},null),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(5,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),h._55(6,null,[""," ",""])),h._49(7,2),h._48(8,{$a:0}),h._47(131072,X.a,[Z.a,h.j]),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._55(-1,null,["\n                "]))],function(n,l){n(l,3,0,"light")},function(n,l){n(l,6,0,h._56(l,6,0,n(l,7,0,h._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimetime")),h._56(l,6,1,h._44(l,9).transform("addon.mod_chat.messageenter",n(l,8,0,l.parent.context.$implicit.userfullname))))})}function a(n){return h._57(0,[(n()(),h._31(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._31(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[J.a,h.t,h.V],{color:[0,"color"]},null),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(5,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),h._55(6,null,[""," ",""])),h._49(7,2),h._48(8,{$a:0}),h._47(131072,X.a,[Z.a,h.j]),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._55(-1,null,["\n                "]))],function(n,l){n(l,3,0,"light")},function(n,l){n(l,6,0,h._56(l,6,0,n(l,7,0,h._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimetime")),h._56(l,6,1,h._44(l,9).transform("addon.mod_chat.messageexit",n(l,8,0,l.parent.context.$implicit.userfullname))))})}function i(n){return h._57(0,[(n()(),h._31(0,0,null,null,10,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._31(2,0,null,null,7,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[J.a,h.t,h.V],{color:[0,"color"]},null),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(5,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),h._55(6,null,["",""])),h._48(7,{$a:0}),h._47(131072,X.a,[Z.a,h.j]),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._55(-1,null,["\n                "]))],function(n,l){n(l,3,0,"light")},function(n,l){n(l,6,0,h._56(l,6,0,h._44(l,8).transform("addon.mod_chat.messagebeepsyou",n(l,7,0,l.parent.context.$implicit.userfullname))))})}function s(n){return h._57(0,[(n()(),h._31(0,0,null,null,23,"ion-item",[["class","addon-mod-chat-message item item-block"],["text-wrap",""]],null,null,null,nn.b,nn.a)),h._30(1,1097728,null,3,ln.a,[tn.a,J.a,h.t,h.V,[2,en.a]],null,null),h._52(335544320,3,{contentLabel:0}),h._52(603979776,4,{_buttons:1}),h._52(603979776,5,{_icons:1}),h._30(5,16384,null,0,un.a,[],null,null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(7,0,null,0,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,on.b,on.a)),h._30(8,770048,null,0,an.a,[sn.a,k.a,rn.a,C.a,x.a],{user:[0,"user"]},null),h._30(9,16384,null,0,cn.a,[],null,null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(11,0,null,2,8,"h2",[],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(13,0,null,null,2,"p",[["float-end",""]],null,null,null,null,null)),(n()(),h._55(14,null,["",""])),h._49(15,2),(n()(),h._55(-1,null,["\n                        "])),(n()(),h._31(17,0,null,null,1,"core-format-text",[],null,null,null,null,null)),h._30(18,540672,null,0,_n.a,[h.t,k.a,I.a,P.a,Z.a,dn.a,rn.a,gn.a,w.a,fn.a,C.a,hn.a,[2,sn.a],[2,mn.a],[2,pn.a],bn.a,x.a],{text:[0,"text"]},null),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(21,0,null,2,1,"core-format-text",[],null,[[null,"afterRender"]],function(n,l,t){var e=!0;if("afterRender"===l){e=!1!==(n.parent.context.last&&n.component.scrollToBottom())&&e}return e},null,null)),h._30(22,540672,null,0,_n.a,[h.t,k.a,I.a,P.a,Z.a,dn.a,rn.a,gn.a,w.a,fn.a,C.a,hn.a,[2,sn.a],[2,mn.a],[2,pn.a],bn.a,x.a],{text:[0,"text"]},{afterRender:"afterRender"}),(n()(),h._55(-1,2,["\n                "]))],function(n,l){n(l,8,0,l.parent.context.$implicit);n(l,18,0,l.parent.context.$implicit.userfullname);n(l,22,0,l.parent.context.$implicit.message)},function(n,l){n(l,14,0,h._56(l,14,0,n(l,15,0,h._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimetime")))})}function r(n){return h._57(0,[(n()(),h._31(0,0,null,null,16,"div",[],null,null,null,null,null)),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,u)),h._30(3,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,o)),h._30(6,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,a)),h._30(9,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,i)),h._30(12,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,s)),h._30(15,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n            "]))],function(n,l){var t=l.component;n(l,3,0,t.showDate(t.messages[l.context.index],t.messages[l.context.index-1]));n(l,6,0,l.context.$implicit.system&&"enter"==l.context.$implicit.message);n(l,9,0,l.context.$implicit.system&&"exit"==l.context.$implicit.message);n(l,12,0,l.context.$implicit.message==t.currentUserBeep);n(l,15,0,!l.context.$implicit.system&&"beep"!=l.context.$implicit.message.substr(0,4))},null)}function c(n){return h._57(0,[(n()(),h._31(0,0,null,null,5,"div",[["margin",""],["text-center",""]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n                "])),(n()(),h._31(2,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),h._55(3,null,["",""])),h._47(131072,X.a,[Z.a,h.j]),(n()(),h._55(-1,null,["\n            "]))],null,function(n,l){n(l,3,0,h._56(l,3,0,h._44(l,4).transform("addon.mod_chat.nomessages")))})}function _(n){return h._57(0,[(n()(),h._31(0,0,null,null,2,"p",[["text-center",""]],null,null,null,null,null)),(n()(),h._55(1,null,["",""])),h._47(131072,X.a,[Z.a,h.j])],null,function(n,l){n(l,1,0,h._56(l,1,0,h._44(l,2).transform("addon.mod_chat.mustbeonlinetosendmessages")))})}function d(n){return h._57(0,[(n()(),h._31(0,0,null,null,2,"core-send-message-form",[],null,[[null,"onSubmit"],[null,"onResize"]],function(n,l,t){var e=!0,u=n.component;if("onSubmit"===l){e=!1!==u.sendMessage(t)&&e}if("onResize"===l){e=!1!==u.resizeContent()&&e}return e},yn.b,yn.a)),h._30(1,114688,null,0,Cn.a,[rn.a,P.a,xn.a,x.a,k.a,C.a],{message:[0,"message"],placeholder:[1,"placeholder"],showKeyboard:[2,"showKeyboard"]},{onSubmit:"onSubmit",onResize:"onResize"}),h._47(131072,X.a,[Z.a,h.j])],function(n,l){var t=l.component;n(l,1,0,t.newMessage,h._56(l,1,1,h._44(l,2).transform("addon.messages.newmessage")),t.showKeyboard)},null)}function g(n){return h._57(0,[(n()(),h._31(0,0,null,null,3,"button",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.reconnect()&&e}return e},q.b,q.a)),h._30(1,1097728,null,0,G.a,[[8,""],J.a,h.t,h.V],{color:[0,"color"],block:[1,"block"]},null),(n()(),h._55(2,0,["",""])),h._47(131072,X.a,[Z.a,h.j])],function(n,l){n(l,1,0,"light","")},function(n,l){n(l,2,0,h._56(l,2,0,h._44(l,3).transform("core.login.reconnect")))})}function f(n){return h._57(0,[h._47(0,wn.a,[w.a,kn.a]),h._52(402653184,1,{content:0}),(n()(),h._31(2,0,null,null,20,"ion-header",[],null,null,null,null,null)),h._30(3,16384,null,0,In.a,[J.a,h.t,h.V,[2,Pn.a]],null,null),(n()(),h._55(-1,null,["\n    "])),(n()(),h._31(5,0,null,null,16,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Mn.b,Mn.a)),h._30(6,49152,null,0,Rn.a,[On.a,[2,Pn.a],[2,sn.a],J.a,h.t,h.V],null,null),h._30(7,212992,null,0,Un.a,[Rn.a,dn.a,Z.a,x.a],null,null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._31(9,0,null,3,3,"ion-title",[],null,null,null,Vn.b,Vn.a)),h._30(10,49152,null,0,jn.a,[J.a,h.t,h.V,[2,Dn.a],[2,Rn.a]],null,null),(n()(),h._31(11,0,null,0,1,"core-format-text",[],null,null,null,null,null)),h._30(12,540672,null,0,_n.a,[h.t,k.a,I.a,P.a,Z.a,dn.a,rn.a,gn.a,w.a,fn.a,C.a,hn.a,[2,sn.a],[2,mn.a],[2,pn.a],bn.a,x.a],{text:[0,"text"]},null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._31(14,0,null,2,6,"ion-buttons",[["end",""]],null,null,null,null,null)),h._30(15,16384,null,1,Tn.a,[J.a,h.t,h.V,[2,Dn.a],[2,Rn.a]],null,null),h._52(603979776,2,{_buttons:1}),(n()(),h._55(-1,null,["\n            "])),(n()(),h._26(16777216,null,null,1,null,e)),h._30(19,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n        "])),(n()(),h._55(-1,3,["\n    "])),(n()(),h._55(-1,null,["\n"])),(n()(),h._55(-1,null,["\n"])),(n()(),h._31(24,0,null,null,15,"ion-content",[["class","has-footer"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,$n.b,$n.a)),h._30(25,4374528,[[1,4]],0,mn.a,[J.a,dn.a,zn.a,h.t,h.V,On.a,En.a,h.M,[2,Pn.a],[2,sn.a]],null,null),(n()(),h._55(-1,1,["\n    "])),(n()(),h._31(27,0,null,1,11,"core-loading",[],null,null,null,Ln.b,Ln.a)),h._30(28,638976,null,0,Sn.a,[Z.a,h.t,x.a,rn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),h._55(-1,0,["\n        "])),(n()(),h._31(30,0,null,0,7,"div",[["aria-live","polite"]],null,null,null,null,null)),(n()(),h._55(-1,null,["\n            "])),(n()(),h._26(16777216,null,null,1,null,r)),h._30(33,802816,null,0,vn.j,[h._11,h._6,h.E],{ngForOf:[0,"ngForOf"]},null),(n()(),h._55(-1,null,["\n\n            "])),(n()(),h._26(16777216,null,null,1,null,c)),h._30(36,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n        "])),(n()(),h._55(-1,0,["\n    "])),(n()(),h._55(-1,1,["\n"])),(n()(),h._55(-1,null,["\n"])),(n()(),h._31(41,0,null,null,15,"ion-footer",[["class","footer-adjustable"],["color","light"]],null,null,null,null,null)),h._30(42,16384,null,0,Kn.a,[J.a,h.t,h.V,[2,Pn.a]],{color:[0,"color"]},null),(n()(),h._55(-1,null,["\n    "])),(n()(),h._31(44,0,null,null,11,"ion-toolbar",[["class","toolbar"],["color","light"],["position","bottom"]],[[2,"statusbar-padding",null]],null,null,An.b,An.a)),h._30(45,49152,null,0,Dn.a,[J.a,h.t,h.V],{color:[0,"color"]},null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._26(16777216,null,3,1,null,_)),h._30(48,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._26(16777216,null,3,1,null,d)),h._30(51,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._26(16777216,null,3,1,null,g)),h._30(54,16384,null,0,vn.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,3,["\n    "])),(n()(),h._55(-1,null,["\n"])),(n()(),h._55(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,7,0);n(l,12,0,t.title);n(l,19,0,t.loaded);n(l,28,0,t.loaded);n(l,33,0,t.messages);n(l,36,0,!t.messages||t.messages.length<=0);n(l,42,0,"light");n(l,45,0,"light");n(l,48,0,!t.isOnline);n(l,51,0,t.isOnline&&t.polling&&t.loaded);n(l,54,0,t.isOnline&&!t.polling&&t.loaded)},function(n,l){n(l,5,0,h._44(l,6)._hidden,h._44(l,6)._sbPadding);n(l,24,0,h._44(l,25).statusbarPadding,h._44(l,25)._hasRefresher);n(l,44,0,h._44(l,45)._sbPadding)})}Object.defineProperty(l,"__esModule",{value:!0});var h=t(0),m=t(8),p=t(3),b=t(24),v=t(29),y=t(103),C=t(9),x=t(12),w=t(5),k=t(1),I=t(4),P=t(10),M=t(258),R=t(198),O=t(13),U=this&&this.__decorate||function(n,l,t,e){var u,o=arguments.length,a=o<3?l:null===e?e=Object.getOwnPropertyDescriptor(l,t):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,l,t,e);else for(var i=n.length-1;i>=0;i--)(u=n[i])&&(a=(o<3?u(a):o>3?u(l,t,a):u(l,t))||a);return o>3&&a&&Object.defineProperty(l,t,a),a},V=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},j=function(){function n(n,l,t,e,u,o,a,i,s,r,c,_){var d=this;this.navCtrl=u,this.chatProvider=o,this.appProvider=a,this.modalCtrl=s,this.domUtils=r,this.textUtils=c,this.eventsProvider=_,this.loaded=!1,this.messages=[],this.lastTime=0,this.oldContentHeight=0,this.viewDestroyed=!1,this.pollingRunning=!1,this.chatId=n.get("chatId"),this.courseId=n.get("courseId"),this.title=n.get("title"),this.logger=l.getInstance("AddonModChoiceChoicePage"),this.currentUserBeep="beep "+i.getCurrentSiteUserId(),this.isOnline=this.appProvider.isOnline(),this.onlineObserver=t.onchange().subscribe(function(n){e.run(function(){d.isOnline=d.appProvider.isOnline()})})}return n.prototype.ionViewDidLoad=function(){var n=this;this.loginUser().then(function(){return n.fetchMessages().then(function(){n.startPolling()}).catch(function(l){n.domUtils.showErrorModalDefault(l,"addon.mod_chat.errorwhileretrievingmessages",!0),n.navCtrl.pop()})}).catch(function(l){n.domUtils.showErrorModalDefault(l,"addon.mod_chat.errorwhileconnecting",!0),n.navCtrl.pop()}).finally(function(){n.loaded=!0}),this.keyboardObserver=this.eventsProvider.on(x.a.KEYBOARD_CHANGE,function(l){n.content.resize()})},n.prototype.ionViewDidEnter=function(){this.startPolling()},n.prototype.ionViewWillLeave=function(){this.stopPolling()},n.prototype.showChatUsers=function(){var n=this,l=this.modalCtrl.create("AddonModChatUsersPage",{sessionId:this.sessionId});l.onDidDismiss(function(l){l&&l.talkTo&&(n.newMessage="To "+l.talkTo+": "),l&&l.beepTo&&n.sendMessage("",l.beepTo)}),l.present()},n.prototype.loginUser=function(){var n=this;return this.chatProvider.loginUser(this.chatId).then(function(l){n.sessionId=l})},n.prototype.fetchMessages=function(){var n=this;return this.chatProvider.getLatestMessages(this.sessionId,this.lastTime).then(function(l){return n.lastTime=l.chatnewlasttime||0,n.chatProvider.getMessagesUserData(l.messages,n.courseId).then(function(l){n.messages=n.messages.concat(l),l.length&&setTimeout(function(){return n.scrollToBottom()})})})},n.prototype.startPolling=function(){var n=this;this.polling||(this.polling=setInterval(function(){n.fetchMessagesInterval().catch(function(){})},M.a.POLL_INTERVAL))},n.prototype.stopPolling=function(){this.polling&&(this.logger.debug("Cancelling polling for messages"),clearInterval(this.polling))},n.prototype.fetchMessagesInterval=function(){var n=this;return this.logger.debug("Polling for messages"),!this.isOnline||this.pollingRunning?Promise.reject(null):(this.pollingRunning=!0,this.fetchMessages().catch(function(){return n.loginUser().then(function(){return n.fetchMessages()}).catch(function(l){return n.polling&&(clearInterval(n.polling),n.polling=void 0),n.domUtils.showErrorModalDefault(l,"addon.mod_chat.errorwhileretrievingmessages",!0),Promise.reject(null)})}).finally(function(){n.pollingRunning=!1}))},n.prototype.showDate=function(n,l){return!l||!O(1e3*n.timestamp).isSame(1e3*l.timestamp,"day")},n.prototype.sendMessage=function(n,l){var t=this;if(void 0===l&&(l=0),this.isOnline&&(0!==l||n.trim())){n=this.textUtils.replaceNewLines(n,"<br>");var e=this.domUtils.showModalLoading("core.sending",!0);this.chatProvider.sendMessage(this.sessionId,n,l).then(function(){t.fetchMessagesInterval().catch(function(){})}).catch(function(n){t.appProvider.closeKeyboard(),t.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhilesendingmessage",!0)}).finally(function(){e.dismiss()})}},n.prototype.reconnect=function(){var n=this,l=this.domUtils.showModalLoading();return this.fetchMessagesInterval().then(function(){n.startPolling()}).catch(function(){}).finally(function(){l.dismiss()})},n.prototype.scrollToBottom=function(){var n=this;setTimeout(function(){n.viewDestroyed||n.domUtils.scrollToBottom(n.content,0)})},n.prototype.resizeContent=function(){var n=this,l=this.content.getContentDimensions().scrollTop;this.content.resize(),setTimeout(function(){!n.viewDestroyed&&n.content&&n.domUtils.getContentHeight(n.content)!=n.oldContentHeight&&(l||(l=n.content.getContentDimensions().scrollTop),l+=n.oldContentHeight-n.domUtils.getContentHeight(n.content),n.oldContentHeight=n.domUtils.getContentHeight(n.content),n.content.scrollTo(0,l,0))})},n.prototype.ngOnDestroy=function(){this.onlineObserver&&this.onlineObserver.unsubscribe(),this.keyboardObserver&&this.keyboardObserver.off(),this.stopPolling(),this.viewDestroyed=!0},U([Object(h._9)(m.f),V("design:type",m.f)],n.prototype,"content",void 0),n=U([Object(h.m)({selector:"page-addon-mod-chat-chat",templateUrl:"chat.html"}),V("design:paramtypes",[m.t,w.a,R.a,h.M,m.s,M.a,C.a,k.a,m.q,I.a,P.a,x.a])],n)}(),D=this&&this.__decorate||function(n,l,t,e){var u,o=arguments.length,a=o<3?l:null===e?e=Object.getOwnPropertyDescriptor(l,t):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,l,t,e);else for(var i=n.length-1;i>=0;i--)(u=n[i])&&(a=(o<3?u(a):o>3?u(l,t,a):u(l,t))||a);return o>3&&a&&Object.defineProperty(l,t,a),a},T=function(){function n(){}return n=D([Object(h.I)({declarations:[j],imports:[b.a,v.a,y.a,m.l.forChild(j),p.b.forChild()]})],n)}(),$=t(1365),z=t(1366),E=t(1367),L=t(1368),S=t(1369),K=t(1370),A=t(1371),F=t(1372),H=t(1373),B=t(1376),N=t(1377),W=t(1378),q=t(46),G=t(43),J=t(6),Y=t(45),Q=t(147),X=t(27),Z=t(18),nn=t(30),ln=t(20),tn=t(19),en=t(28),un=t(33),on=t(208),an=t(180),sn=t(21),rn=t(2),cn=t(179),_n=t(41),dn=t(14),gn=t(26),fn=t(16),hn=t(17),mn=t(25),pn=t(34),bn=t(36),vn=t(7),yn=t(1999),Cn=t(1394),xn=t(165),wn=t(231),kn=t(23),In=t(447),Pn=t(37),Mn=t(1374),Rn=t(207),On=t(32),Un=t(676),Vn=t(1375),jn=t(350),Dn=t(253),Tn=t(448),$n=t(178),zn=t(31),En=t(104),Ln=t(49),Sn=t(48),Kn=t(694),An=t(1995),Fn=t(63),Hn=t(181),Bn=h._29({encapsulation:2,styles:[],data:{}}),Nn=h._27("page-addon-mod-chat-chat",j,function(n){return h._57(0,[(n()(),h._31(0,0,null,null,1,"page-addon-mod-chat-chat",[],null,null,null,f,Bn)),h._30(1,180224,null,0,j,[Fn.a,w.a,R.a,h.M,sn.a,M.a,C.a,k.a,Hn.a,I.a,P.a,x.a],null,null)],null,null)},{},{},[]),Wn=t(22),qn=t(346),Gn=t(347),Jn=t(349),Yn=t(348),Qn=t(446),Xn=t(675),Zn=t(254);t.d(l,"AddonModChatChatPageModuleNgFactory",function(){return nl});var nl=h._28(T,[],function(n){return h._40([h._41(512,h.o,h._21,[[8,[$.a,z.a,E.a,L.a,S.a,K.a,A.a,F.a,H.a,B.a,N.a,W.a,Nn]],[3,h.o],h.K]),h._41(4608,vn.m,vn.l,[h.G,[2,vn.v]]),h._41(4608,Wn.x,Wn.x,[]),h._41(4608,Wn.d,Wn.d,[]),h._41(4608,qn.b,qn.a,[]),h._41(4608,Gn.a,Gn.b,[]),h._41(4608,Jn.b,Jn.a,[]),h._41(4608,Yn.b,Yn.a,[]),h._41(4608,Z.a,Z.a,[Qn.a,qn.b,Gn.a,Jn.b,Yn.b,Z.b,Z.c]),h._41(512,vn.b,vn.b,[]),h._41(512,Wn.v,Wn.v,[]),h._41(512,Wn.i,Wn.i,[]),h._41(512,Wn.s,Wn.s,[]),h._41(512,Xn.a,Xn.a,[]),h._41(512,p.b,p.b,[]),h._41(512,v.a,v.a,[]),h._41(512,y.a,y.a,[]),h._41(512,b.a,b.a,[]),h._41(512,Xn.b,Xn.b,[]),h._41(512,T,T,[]),h._41(256,Z.c,void 0,[]),h._41(256,Z.b,void 0,[]),h._41(256,Zn.a,j,[])])})},1995:function(n,l,t){"use strict";function e(n){return u._57(2,[(n()(),u._31(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u._30(1,278528,null,0,o.i,[u.E,u.F,u.t,u.W],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._43(null,0),u._43(null,1),u._43(null,2),(n()(),u._31(5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u._30(6,278528,null,0,o.i,[u.E,u.F,u.t,u.W],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._43(null,3)],function(n,l){var t=l.component;n(l,1,0,"toolbar-background","toolbar-background-"+t._mode);n(l,6,0,"toolbar-content","toolbar-content-"+t._mode)},null)}t.d(l,"a",function(){return s}),l.b=e;var u=t(0),o=t(7),a=t(253),i=t(6),s=u._29({encapsulation:2,styles:[],data:{}});u._27("ion-toolbar",a.a,function(n){return u._57(0,[(n()(),u._31(0,0,null,null,1,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,e,s)),u._30(1,49152,null,0,a.a,[i.a,u.t,u.V],null,null)],null,function(n,l){n(l,0,0,u._44(l,1)._sbPadding)})},{color:"color",mode:"mode"},{},["[menuToggle],ion-buttons[left]","ion-buttons[start]","ion-buttons[end],ion-buttons[right]","*"])},1999:function(n,l,t){"use strict";function e(n){return u._57(0,[(n()(),u._31(0,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0;if("submit"===l){e=!1!==u._44(n,2).onSubmit(t)&&e}if("reset"===l){e=!1!==u._44(n,2).onReset()&&e}return e},null,null)),u._30(1,16384,null,0,o.w,[],null,null),u._30(2,4210688,null,0,o.p,[[8,null],[8,null]],null,null),u._50(2048,null,o.b,null,[o.p]),u._30(4,16384,null,0,o.o,[o.b],null,null),(n()(),u._55(-1,null,["\n    "])),(n()(),u._31(6,0,null,null,7,"textarea",[["aria-multiline","true"],["class","core-send-message-input"],["core-auto-rows",""],["name","message"],["rows","1"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onResize"],[null,"keydown.enter"],[null,"keydown.control.enter"],[null,"keydown.meta.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var e=!0,o=n.component;if("input"===l){e=!1!==u._44(n,7)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==u._44(n,7).onTouched()&&e}if("compositionstart"===l){e=!1!==u._44(n,7)._compositionStart()&&e}if("compositionend"===l){e=!1!==u._44(n,7)._compositionEnd(t.target.value)&&e}if("input"===l){e=!1!==u._44(n,13).onInput()&&e}if("change"===l){e=!1!==u._44(n,13).onChange()&&e}if("ngModelChange"===l){e=!1!==(o.message=t)&&e}if("onResize"===l){e=!1!==o.textareaResized()&&e}if("keydown.enter"===l){e=!1!==o.enterClicked(t)&&e}if("keydown.control.enter"===l){e=!1!==o.enterClicked(t,"control")&&e}if("keydown.meta.enter"===l){e=!1!==o.enterClicked(t,"meta")&&e}return e},null,null)),u._30(7,16384,null,0,o.c,[u.W,u.t,[2,o.a]],null,null),u._50(1024,null,o.l,function(n){return[n]},[o.c]),u._30(9,671744,null,0,o.q,[[2,o.b],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u._50(2048,null,o.m,null,[o.q]),u._30(11,16384,null,0,o.n,[o.m],null,null),u._30(12,81920,null,0,a.a,[u.t,i.a,s.a,[2,r.a]],{coreAutoFocus:[0,"coreAutoFocus"]},null),u._30(13,4210688,null,0,c.a,[u.t],null,{onResize:"onResize"}),(n()(),u._55(-1,null,["\n    "])),(n()(),u._31(15,0,null,null,12,"ion-buttons",[["end",""]],null,null,null,null,null)),u._30(16,16384,null,1,_.a,[d.a,u.t,u.V,[2,g.a],[2,f.a]],null,null),u._52(603979776,1,{_buttons:1}),(n()(),u._55(-1,null,["\n        "])),(n()(),u._31(19,0,null,null,7,"button",[["clear","true"],["icon-only",""],["ion-button",""],["type","submit"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"onClick"]],function(n,l,t){var e=!0;if("onClick"===l){e=!1!==n.component.submitForm(t)&&e}return e},h.b,h.a)),u._30(20,1097728,[[1,4]],0,m.a,[[8,""],d.a,u.t,u.V],{clear:[0,"clear"]},null),u._30(21,81920,null,0,p.a,[u.t],null,{onClick:"onClick"}),u._47(131072,b.a,[v.a,u.j]),(n()(),u._55(-1,0,["\n            "])),(n()(),u._31(24,0,null,0,1,"ion-icon",[["color","dark"],["name","send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u._30(25,147456,null,0,y.a,[d.a,u.t,u.V],{color:[0,"color"],name:[1,"name"]},null),(n()(),u._55(-1,0,["\n        "])),(n()(),u._55(-1,null,["\n    "])),(n()(),u._55(-1,null,["\n"])),(n()(),u._55(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,9,0,"message",t.message);n(l,12,0,t.showKeyboard);n(l,20,0,"true"),n(l,21,0);n(l,25,0,"dark","send")},function(n,l){var t=l.component;n(l,0,0,u._44(l,4).ngClassUntouched,u._44(l,4).ngClassTouched,u._44(l,4).ngClassPristine,u._44(l,4).ngClassDirty,u._44(l,4).ngClassValid,u._44(l,4).ngClassInvalid,u._44(l,4).ngClassPending);n(l,6,0,t.placeholder,u._44(l,11).ngClassUntouched,u._44(l,11).ngClassTouched,u._44(l,11).ngClassPristine,u._44(l,11).ngClassDirty,u._44(l,11).ngClassValid,u._44(l,11).ngClassInvalid,u._44(l,11).ngClassPending);n(l,19,0,!t.message,u._56(l,19,1,u._44(l,22).transform("core.send")));n(l,24,0,u._44(l,25)._hidden)})}t.d(l,"a",function(){return M}),l.b=e;var u=t(0),o=t(22),a=t(356),i=t(4),s=t(2),r=t(21),c=t(363),_=t(448),d=t(6),g=t(253),f=t(207),h=t(46),m=t(43),p=t(366),b=t(27),v=t(18),y=t(45),C=t(1394),x=t(10),w=t(165),k=t(12),I=t(1),P=t(9),M=u._29({encapsulation:2,styles:[],data:{}});u._27("core-send-message-form",C.a,function(n){return u._57(0,[(n()(),u._31(0,0,null,null,1,"core-send-message-form",[],null,null,null,e,M)),u._30(1,114688,null,0,C.a,[s.a,x.a,w.a,k.a,I.a,P.a],null,null)],function(n,l){n(l,1,0)},null)},{message:"message",placeholder:"placeholder",showKeyboard:"showKeyboard"},{onSubmit:"onSubmit",onResize:"onResize"},[])}});