webpackJsonp([65],{1936:function(n,l,t){"use strict";function e(n){return o._42(0,[(n()(),o._16(0,0,null,null,2,"core-empty-box",[["icon","chatbubbles"]],null,null,null,R.b,R.a)),o._15(1,49152,null,0,T.a,[],{message:[0,"message"],icon:[1,"icon"]},null),o._32(131072,U.a,[$.a,o.i])],function(n,l){n(l,1,0,o._41(l,1,0,o._29(l,2).transform("core.nocomments")),"chatbubbles")},null)}function a(n){return o._42(0,[(n()(),o._16(0,0,null,null,31,"ion-card",[],null,null,null,null,null)),o._15(1,16384,null,0,F.a,[M.a,o.p,o.K],null,null),(n()(),o._40(-1,null,["\n            "])),(n()(),o._16(3,0,null,null,16,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,O.b,O.a)),o._15(4,1097728,null,3,j.a,[E.a,M.a,o.p,o.K,[2,V.a]],null,null),o._37(335544320,2,{contentLabel:0}),o._37(603979776,3,{_buttons:1}),o._37(603979776,4,{_icons:1}),o._15(8,16384,null,0,W.a,[],null,null),(n()(),o._40(-1,2,["\n                "])),(n()(),o._16(10,0,null,0,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,A.b,A.a)),o._15(11,770048,null,0,B.a,[J.a,r.a,N.a,q.a,z.a],{user:[0,"user"]},null),o._15(12,16384,null,0,G.a,[],null,null),(n()(),o._40(-1,2,["\n                "])),(n()(),o._16(14,0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),o._40(15,null,["",""])),(n()(),o._40(-1,2,["\n                "])),(n()(),o._16(17,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),o._40(18,null,["",""])),(n()(),o._40(-1,2,["\n            "])),(n()(),o._40(-1,null,["\n            "])),(n()(),o._16(21,0,null,null,9,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,O.b,O.a)),o._15(22,1097728,null,3,j.a,[E.a,M.a,o.p,o.K,[2,V.a]],null,null),o._37(335544320,5,{contentLabel:0}),o._37(603979776,6,{_buttons:1}),o._37(603979776,7,{_icons:1}),o._15(26,16384,null,0,W.a,[],null,null),(n()(),o._40(-1,2,["\n                "])),(n()(),o._16(28,0,null,2,1,"core-format-text",[["clean","true"]],null,null,null,null,null)),o._15(29,540672,null,0,H.a,[o.p,r.a,s.a,Q.a,$.a,S.a,N.a,X.a,Y.a,Z.a,q.a,nn.a,[2,J.a],[2,ln.a],[2,tn.a],en.a,z.a],{text:[0,"text"],clean:[1,"clean"]},null),(n()(),o._40(-1,2,["\n            "])),(n()(),o._40(-1,null,["\n        "]))],function(n,l){n(l,11,0,l.context.$implicit);n(l,29,0,l.context.$implicit.content,"true")},function(n,l){n(l,15,0,l.context.$implicit.fullname);n(l,18,0,l.context.$implicit.time)})}function u(n){return o._42(0,[o._37(402653184,1,{content:0}),(n()(),o._16(1,0,null,null,12,"ion-header",[],null,null,null,null,null)),o._15(2,16384,null,0,an.a,[M.a,o.p,o.K,[2,un.a]],null,null),(n()(),o._40(-1,null,["\n    "])),(n()(),o._16(4,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,on.b,on.a)),o._15(5,49152,null,0,rn.a,[sn.a,[2,un.a],[2,J.a],M.a,o.p,o.K],null,null),o._15(6,212992,null,0,cn.a,[rn.a,S.a,$.a,z.a],null,null),(n()(),o._40(-1,3,["\n        "])),(n()(),o._16(8,0,null,3,3,"ion-title",[],null,null,null,_n.b,_n.a)),o._15(9,49152,null,0,mn.a,[M.a,o.p,o.K,[2,hn.a],[2,rn.a]],null,null),(n()(),o._16(10,0,null,0,1,"core-format-text",[],null,null,null,null,null)),o._15(11,540672,null,0,H.a,[o.p,r.a,s.a,Q.a,$.a,S.a,N.a,X.a,Y.a,Z.a,q.a,nn.a,[2,J.a],[2,ln.a],[2,tn.a],en.a,z.a],{text:[0,"text"]},null),(n()(),o._40(-1,3,["\n    "])),(n()(),o._40(-1,null,["\n"])),(n()(),o._40(-1,null,["\n"])),(n()(),o._16(15,0,null,null,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,fn.b,fn.a)),o._15(16,4374528,[[1,4]],0,ln.a,[M.a,S.a,dn.a,o.p,o.K,sn.a,pn.a,o.D,[2,un.a],[2,J.a]],null,null),(n()(),o._40(-1,1,["\n    "])),(n()(),o._16(18,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,t){var e=!0;if("ionRefresh"===l){e=!1!==n.component.refreshComments(t)&&e}return e},null,null)),o._15(19,212992,null,0,bn.a,[S.a,ln.a,o.D,gn.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),o._40(-1,null,["\n        "])),(n()(),o._16(21,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,vn.b,vn.a)),o._15(22,114688,null,0,xn.a,[bn.a,M.a],{pullingText:[0,"pullingText"]},null),o._32(131072,U.a,[$.a,o.i]),(n()(),o._40(-1,null,["\n    "])),(n()(),o._40(-1,1,["\n    "])),(n()(),o._16(26,0,null,1,8,"core-loading",[],null,null,null,Ln.b,Ln.a)),o._15(27,638976,null,0,wn.a,[$.a,o.p,z.a,N.a],{hideUntil:[0,"hideUntil"]},null),(n()(),o._40(-1,0,["\n        "])),(n()(),o._11(16777216,null,0,1,null,e)),o._15(30,16384,null,0,yn.k,[o.W,o.T],{ngIf:[0,"ngIf"]},null),(n()(),o._40(-1,0,["\n\n        "])),(n()(),o._11(16777216,null,0,1,null,a)),o._15(33,802816,null,0,yn.j,[o.W,o.T,o.v],{ngForOf:[0,"ngForOf"]},null),(n()(),o._40(-1,0,["\n    "])),(n()(),o._40(-1,1,["\n"])),(n()(),o._40(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,6,0);n(l,11,0,t.title);n(l,19,0,t.commentsLoaded);n(l,22,0,o._19(1,"",o._41(l,22,0,o._29(l,23).transform("core.pulltorefresh")),""));n(l,27,0,t.commentsLoaded);n(l,30,0,!t.comments||!t.comments.length);n(l,33,0,t.comments)},function(n,l){n(l,4,0,o._29(l,5)._hidden,o._29(l,5)._sbPadding);n(l,15,0,o._29(l,16).statusbarPadding,o._29(l,16)._hasRefresher);n(l,18,0,"inactive"!==o._29(l,19).state,o._29(l,19)._top);n(l,21,0,o._29(l,22).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var o=t(1),i=(t(0),t(9),t(4)),r=t(2),s=t(5),c=t(43),_=t(158),m=function(){function n(n,l,t,e,a,u){this.userProvider=t,this.domUtils=e,this.translate=a,this.commentsProvider=u,this.comments=[],this.commentsLoaded=!1,this.contextLevel=n.get("contextLevel"),this.instanceId=n.get("instanceId"),this.component=n.get("component"),this.itemId=n.get("itemId"),this.area=n.get("area")||"",this.page=n.get("page")||0,this.title=n.get("title")||this.translate.instant("core.comments")}return n.prototype.ionViewDidLoad=function(){var n=this;this.fetchComments().finally(function(){n.commentsLoaded=!0})},n.prototype.fetchComments=function(){var n=this;return this.commentsProvider.getComments(this.contextLevel,this.instanceId,this.component,this.itemId,this.area,this.page).then(function(l){n.comments=l,n.comments.sort(function(n,l){return l.timecreated-n.timecreated}),n.comments.forEach(function(l){n.userProvider.getProfile(l.userid,void 0,!0).then(function(n){l.profileimageurl=n.profileimageurl}).catch(function(){})})}).catch(function(l){l&&"assignsubmission_comments"==n.component?n.domUtils.showAlertTranslated("core.notice","core.commentsnotworking"):n.domUtils.showErrorModalDefault(l,n.translate.instant("core.error")+": get_comments")})},n.prototype.refreshComments=function(n){var l=this;this.commentsProvider.invalidateCommentsData(this.contextLevel,this.instanceId,this.component,this.itemId,this.area,this.page).finally(function(){return l.fetchComments().finally(function(){n.complete()})})},n}(),h=t(25),f=t(30),d=t(353),p=function(){return function(){}}(),b=t(1365),g=t(1366),v=t(1367),x=t(1368),L=t(1369),w=t(1370),y=t(1371),I=t(1372),P=t(1373),C=t(1376),K=t(1377),k=t(1378),D=t(454),R=t(117),T=t(106),U=t(28),$=t(19),F=t(80),M=t(7),O=t(31),j=t(21),E=t(20),V=t(29),W=t(34),A=t(208),B=t(180),J=t(22),N=t(3),q=t(10),z=t(13),G=t(179),H=t(42),Q=t(11),S=t(15),X=t(27),Y=t(6),Z=t(17),nn=t(18),ln=t(26),tn=t(35),en=t(37),an=t(447),un=t(38),on=t(1374),rn=t(207),sn=t(33),cn=t(676),_n=t(1375),mn=t(350),hn=t(253),fn=t(178),dn=t(32),pn=t(105),bn=t(141),gn=t(39),vn=t(195),xn=t(147),Ln=t(50),wn=t(49),yn=t(8),In=t(64),Pn=o._14({encapsulation:2,styles:[],data:{}}),Cn=o._12("page-core-comments-viewer",m,function(n){return o._42(0,[(n()(),o._16(0,0,null,null,1,"page-core-comments-viewer",[],null,null,null,u,Pn)),o._15(1,49152,null,0,m,[In.a,r.a,c.a,s.a,$.a,_.a],null,null)],null,null)},{},{},[]),Kn=t(23),kn=t(346),Dn=t(347),Rn=t(349),Tn=t(348),Un=t(446),$n=t(675),Fn=t(104),Mn=t(254);t.d(l,"CoreCommentsViewerPageModuleNgFactory",function(){return On});var On=o._13(p,[],function(n){return o._25([o._26(512,o.n,o._6,[[8,[b.a,g.a,v.a,x.a,L.a,w.a,y.a,I.a,P.a,C.a,K.a,k.a,D.a,Cn]],[3,o.n],o.B]),o._26(4608,yn.m,yn.l,[o.x,[2,yn.v]]),o._26(4608,Kn.x,Kn.x,[]),o._26(4608,Kn.d,Kn.d,[]),o._26(4608,kn.b,kn.a,[]),o._26(4608,Dn.a,Dn.b,[]),o._26(4608,Rn.b,Rn.a,[]),o._26(4608,Tn.b,Tn.a,[]),o._26(4608,$.a,$.a,[Un.a,kn.b,Dn.a,Rn.b,Tn.b,$.b,$.c]),o._26(512,yn.b,yn.b,[]),o._26(512,Kn.v,Kn.v,[]),o._26(512,Kn.i,Kn.i,[]),o._26(512,Kn.s,Kn.s,[]),o._26(512,$n.a,$n.a,[]),o._26(512,i.a,i.a,[]),o._26(512,f.a,f.a,[]),o._26(512,Fn.a,Fn.a,[]),o._26(512,h.a,h.a,[]),o._26(512,d.a,d.a,[]),o._26(512,$n.b,$n.b,[]),o._26(512,p,p,[]),o._26(256,$.c,void 0,[]),o._26(256,$.b,void 0,[]),o._26(256,Mn.a,m,[])])})}});